---
title: "Mini_Project_3"
author: "Stephanie Foukaris"
date: "April 4, 2018"
output: 
  html_document:
    code_folding: hide
---


```{r message = FALSE, warning=FALSE}
library(tidyverse)
library(macleish)
library(sf)
library(leaflet)
```

Here is a link to our GitHub respository:



Propose Two New Campsites

- Approximately 1/2 mile from parking
- Within 200 feet of stream or other water (excluding wetlands)
- In forest unlike other campsites
- Relatively flat
- At least 500 feet from research areas and challenge course
- Near a walking trail


###Create Leaflet Map with Constraints and Existing Points of Interest

Added campsite locations, parking, radius of half a mile around parking, the ptoperty boudary, the streams, the trails, the research stations and the callege courses.

```{r}
leaflet() %>%
  addTiles() %>%
  addMarkers(lng = -72.678154, lat = 42.455000, 
             popup = "Group Campsite") %>%
  addCircles(lng = -72.682548, lat = 42.45976, 
             weight = 1, radius = 152, color = "red", label = "research/challenge buffer size") %>%
  addMarkers(lng = -72.674732, lat = 42.458570, 
             popup = "Remote Campsite") %>%
  addMarkers(lng = -72.680663, lat = 42.448013, 
             popup = "Parking") %>%
  addCircles(lng = -72.680663, lat = 42.448013, 
             weight = 1, radius = 805) %>%
  addPolygons(data = macleish_layers[["boundary"]],
              weight = 1) %>%
  addPolylines(data = macleish_layers[["streams"]], 
               weight = 2) %>%
  addPolylines(data = macleish_layers[["trails"]], 
               weight = 1, color = "green") %>%
  addPolygons(data = macleish_layers[["research"]], 
               weight = 1, color = "red") %>%
  addCircles(data = macleish_layers[["challenge_courses"]], 
                   radius = 152, color = "orange")
```

Campsite locations and the contour data.

```{r}
leaflet() %>%
  addTiles() %>%
  addMarkers(lng = -72.678154, lat = 42.455000, 
             popup = "Group Campsite") %>%
  addMarkers(lng = -72.674732, lat = 42.458570, 
             popup = "Remote Campsite") %>%
  addPolygons(data = macleish_layers[["contours_3m"]], 
               weight = 1)
```


Forest data

```{r}
forest_pal <- colorFactor("Greens", macleish_layers[["forests"]]$Sheet1__Na)
```



```{r}
leaflet() %>%
  addTiles() %>%
  addMarkers(lng = -72.678154, lat = 42.455000, 
             popup = "Group Campsite") %>%
  addMarkers(lng = -72.674732, lat = 42.458570, 
             popup = "Remote Campsite") %>%
  addPolygons(data = macleish_layers[["forests"]], 
              color = ~forest_pal(Sheet1__Na), weight = 0.1, 
              fillOpacity = 0.2,
              popup = ~ Sheet1__Na, group = "Natural") 
```

```{r}
proj4_aea <- "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs"
```

Stream buffers

```{r}
stream_buffer <- macleish_layers[["streams"]] %>%
  st_transform(proj4_aea) %>%
  st_buffer(dist = 10) %>%
  st_transform(4326)

leaflet() %>%
  addTiles() %>%
  addPolylines(data = macleish_layers[["streams"]], 
               weight = 1, color = "black") %>%
  addPolygons(data = stream_buffer) 
```