---
title: "Mini_Project_3"
author: "Stephanie Foukaris"
date: "April 4, 2018"
output: 
  html_document:
    code_folding: hide
---


```{r message = FALSE, warning=FALSE}
library(tidyverse)
library(macleish)
library(sf)
library(leaflet)
```


Propose Two New Campsites

- Approximately 1/2 mile from parking
- Within 200 feet of stream or other water (excluding wetlands)
- In forest unlike other campsites
- Relatively flat
- At least 500 feet from research areas and challenge course
- Near a walking trail


##Elevation Data

```{r, eval = FALSE}
#url <- "http://download.massgis.digital.mass.gov/shapefiles/state/contours250k.zip"
#local_file <- basename(url)
#download.file(url, destfile = local_file)
#unzip(local_file, exdir = "contours250k")
```

```{r}
#library(sf)
#contours <- st_read("CONTOURS250k_ARC.shp")
```

```{r}
st_layers(dsn)
```

#Create Leaflet Map with Constraints and Existing Points of Interest

Need to add:

stream buffers (61 meters)
research area and challenger course points with circles (152 m)

After identification of possibilities, plot new map with with forest and elevation data.  See which are better fits. Putting all on one map is too much.

```{r}
leaflet() %>%
  addTiles() %>%
  addMarkers(lng = -72.678154, lat = 42.450976, 
             popup = "Group Campsite") %>%
  addCircles(lng = -72.678154, lat = 42.45976, 
             weight = 1, radius = 152, color = "red", label = "research/challenge buffer size") %>%
  addMarkers(lng = -72.674732, lat = 42.458570, 
             popup = "Remote Campsite") %>%
  addMarkers(lng = -72.680663, lat = 42.448013, 
             popup = "Parking") %>%
  addCircles(lng = -72.680663, lat = 42.448013, 
             weight = 1, radius = 805) %>%
  addPolygons(data = macleish_layers[["boundary"]],
              weight = 1) %>%
  addPolylines(data = macleish_layers[["streams"]], 
               weight = 2) %>%
  addPolylines(data = macleish_layers[["trails"]], 
               weight = 1, color = "green") %>%
  addPolylines(data = macleish_layers[["research"]], 
               weight = 1, color = "red") %>%
  addCircleMarkers(data = macleish_layers[["challenge_courses"]], 
                   radius = 1, color = "orange")
```


## trying to put buffers on streams (LAB 16)

```{r}
proj4_aea <- "+proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=m +no_defs" %>%
stream_buffer <- macleish_layers[["streams"]] %>%
  st_transform(proj4_aea) %>%
  st_buffer(dist = 61) %>%
  st_transform(4326)

leaflet() %>%
  addTiles() %>%
  addPolylines(data = macleish_layers[["streams"]], 
               weight = 1, color = "black") %>%
  addPolygons(data = stream_buffer)
```

